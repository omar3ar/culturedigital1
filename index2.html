<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'ÉCLIPSE | Expérience Gastronomique</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Three.js pour l'animation 3D de fond -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: '#D4AF37',
                        dark: '#050505',
                        glass: 'rgba(255, 255, 255, 0.05)',
                    },
                    fontFamily: {
                        serif: ['Cinzel', 'serif'],
                        sans: ['Montserrat', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #ffffff;
            overflow-x: hidden;
        }

        /* Canvas Three.js en arrière-plan */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
        }

        /* Scrollbar moderne */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #000;
        }
        ::-webkit-scrollbar-thumb {
            background: #D4AF37;
            border-radius: 4px;
        }

        /* Effet Glassmorphism */
        .glass-panel {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* 3D Slider Container */
        .slider-3d-container {
            perspective: 1000px;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .slider-card {
            width: 300px;
            height: 400px;
            position: absolute;
            transition: all 0.5s ease-out;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            cursor: pointer;
            background: #111;
            border: 1px solid #D4AF37;
        }
        
        .slider-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .slider-card:hover img {
            transform: scale(1.1);
        }

        .slider-content {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 20px;
            transform: translateY(100px);
            transition: 0.3s;
        }

        .slider-card.active .slider-content {
            transform: translateY(0);
        }

        /* Menu Grid Animations */
        .menu-item {
            transition: transform 0.3s, border-color 0.3s;
        }
        .menu-item:hover {
            transform: translateY(-5px);
            border-color: #D4AF37;
        }

        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s;
        }
    </style>
</head>
<body class="font-sans antialiased">

    <!-- Loader -->
    <div id="loader">
        <div class="text-center">
            <h1 class="text-gold text-4xl font-serif tracking-widest animate-pulse">L'ÉCLIPSE</h1>
            <p class="text-gray-500 text-xs mt-2 tracking-widest uppercase">Chargement de l'expérience</p>
        </div>
    </div>

    <!-- Background 3D -->
    <canvas id="bg-canvas"></canvas>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass-panel border-b-0 border-white/10 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <span class="text-2xl font-serif text-white tracking-widest">L'<span class="text-gold">ÉCLIPSE</span></span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#home" class="text-white hover:text-gold px-3 py-2 rounded-md text-sm font-medium tracking-wide transition-colors">ACCUEIL</a>
                        <a href="#specialities" class="text-white hover:text-gold px-3 py-2 rounded-md text-sm font-medium tracking-wide transition-colors">SPÉCIALITÉS 3D</a>
                        <a href="#menu" class="text-white hover:text-gold px-3 py-2 rounded-md text-sm font-medium tracking-wide transition-colors">LA CARTE</a>
                        <a href="#reservation" class="bg-gold text-black hover:bg-white px-5 py-2 rounded-full text-sm font-bold transition-all shadow-lg hover:shadow-gold/50">RÉSERVER</a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" class="text-white hover:text-gold p-2" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div class="hidden md:hidden bg-black/95 absolute w-full" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 text-center">
                <a href="#home" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-medium">Accueil</a>
                <a href="#menu" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-medium">Menu</a>
                <a href="#reservation" class="text-gold block px-3 py-2 text-base font-medium">Réserver</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative h-screen flex items-center justify-center overflow-hidden">
        <div class="relative z-10 text-center px-4">
            <h2 class="text-gold text-sm md:text-lg tracking-[0.5em] uppercase mb-4 animate-float">Bienvenue dans le futur</h2>
            <h1 class="text-5xl md:text-8xl font-serif text-white mb-6 leading-tight">
                GASTRONOMIE <br> <span class="text-transparent bg-clip-text bg-gradient-to-r from-gold to-yellow-200">VISIONNAIRE</span>
            </h1>
            <p class="mt-4 max-w-2xl mx-auto text-gray-400 text-lg md:text-xl font-light">
                Une fusion entre art culinaire, design et technologie.
            </p>
            <div class="mt-10 flex justify-center gap-6">
                <a href="#menu" class="px-8 py-3 border border-gold text-gold hover:bg-gold hover:text-black transition-all duration-300 uppercase tracking-widest text-sm">
                    Découvrir le Menu
                </a>
            </div>
        </div>
        <!-- Decorative Circle -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] border border-gold/20 rounded-full animate-[spin_20s_linear_infinite]"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] border border-white/5 rounded-full animate-[spin_30s_linear_infinite_reverse]"></div>
    </section>

    <!-- 3D Slider Section (Spécialités) -->
    <section id="specialities" class="py-24 relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 relative z-10">
            <div class="text-center mb-16">
                <h2 class="text-gold tracking-[0.3em] uppercase text-sm mb-2">Nos Signatures</h2>
                <h3 class="text-4xl md:text-5xl font-serif text-white">Sélection du Chef</h3>
            </div>

            <div class="slider-3d-container" id="slider-3d">
                <!-- Cards injected by JS -->
            </div>
            
            <div class="flex justify-center mt-10 gap-4">
                <button onclick="moveSlide(-1)" class="w-12 h-12 rounded-full border border-white/20 text-white hover:bg-gold hover:text-black hover:border-gold transition-all flex items-center justify-center">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button onclick="moveSlide(1)" class="w-12 h-12 rounded-full border border-white/20 text-white hover:bg-gold hover:text-black hover:border-gold transition-all flex items-center justify-center">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Menu Section -->
    <section id="menu" class="py-20 bg-dark/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12">
                <div>
                    <h2 class="text-gold tracking-[0.3em] uppercase text-sm mb-2">La Carte</h2>
                    <h3 class="text-4xl font-serif text-white">Créations Culinaires</h3>
                </div>
                
                <!-- Menu Filters -->
                <div class="flex space-x-2 mt-6 md:mt-0 overflow-x-auto pb-2 md:pb-0">
                    <button class="menu-filter active px-6 py-2 rounded-full text-sm uppercase tracking-wide border border-gold bg-gold text-black transition-all" data-filter="all">Tout</button>
                    <button class="menu-filter px-6 py-2 rounded-full text-sm uppercase tracking-wide border border-white/10 hover:border-gold text-gray-300 transition-all" data-filter="entree">Entrées</button>
                    <button class="menu-filter px-6 py-2 rounded-full text-sm uppercase tracking-wide border border-white/10 hover:border-gold text-gray-300 transition-all" data-filter="plat">Plats</button>
                    <button class="menu-filter px-6 py-2 rounded-full text-sm uppercase tracking-wide border border-white/10 hover:border-gold text-gray-300 transition-all" data-filter="dessert">Desserts</button>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="menu-grid">
                <!-- Menu Items injected by JS -->
            </div>
        </div>
    </section>

    <!-- Reservation / CTA -->
    <section id="reservation" class="py-24 relative">
        <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80')] bg-cover bg-center opacity-20"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-dark via-dark/80 to-transparent"></div>
        
        <div class="max-w-4xl mx-auto px-4 relative z-10 text-center glass-panel p-10 md:p-16 rounded-2xl">
            <h2 class="text-3xl md:text-5xl font-serif text-white mb-6">Réservez votre table</h2>
            <p class="text-gray-300 mb-8 font-light">
                Une expérience unique vous attend. Places limitées pour garantir l'excellence du service.
            </p>
            
            <form class="space-y-4 text-left" onsubmit="event.preventDefault(); showNotification('Demande de réservation envoyée !');">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="group">
                        <label class="block text-xs uppercase text-gold mb-1 tracking-wider">Date</label>
                        <input type="date" class="w-full bg-white/5 border border-white/10 rounded-none p-3 text-white focus:outline-none focus:border-gold transition-colors">
                    </div>
                    <div class="group">
                        <label class="block text-xs uppercase text-gold mb-1 tracking-wider">Heure</label>
                        <select class="w-full bg-white/5 border border-white/10 rounded-none p-3 text-white focus:outline-none focus:border-gold transition-colors">
                            <option class="text-black">19:00</option>
                            <option class="text-black">20:00</option>
                            <option class="text-black">21:00</option>
                            <option class="text-black">22:00</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="group">
                        <label class="block text-xs uppercase text-gold mb-1 tracking-wider">Nom</label>
                        <input type="text" placeholder="Votre Nom" class="w-full bg-white/5 border border-white/10 rounded-none p-3 text-white focus:outline-none focus:border-gold transition-colors">
                    </div>
                    <div class="group">
                        <label class="block text-xs uppercase text-gold mb-1 tracking-wider">Personnes</label>
                        <input type="number" min="1" value="2" class="w-full bg-white/5 border border-white/10 rounded-none p-3 text-white focus:outline-none focus:border-gold transition-colors">
                    </div>
                </div>
                <button class="w-full bg-gold hover:bg-white text-black font-bold py-4 mt-4 tracking-widest uppercase transition-all">
                    Confirmer
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black border-t border-white/10 pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center md:items-start gap-8">
            <div class="text-center md:text-left">
                <span class="text-2xl font-serif text-white tracking-widest">L'<span class="text-gold">ÉCLIPSE</span></span>
                <p class="text-gray-500 text-sm mt-4 max-w-xs">
                    EHEI OUJDA <br>
                    OMAR EL QESSOUAR
                </p>
            </div>
            <div class="text-center md:text-right">
                <h4 class="text-white font-bold uppercase tracking-widest mb-4">Contact</h4>
                <p class="text-gray-500 text-sm">12 Avenue Montaigne, 75008 Paris</p>
                <p class="text-gray-500 text-sm mt-2">+33 1 23 45 67 89</p>
                <div class="mt-4 space-x-4">
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors"><i class="fab fa-facebook"></i></a>
                </div>
            </div>
        </div>
        <div class="text-center mt-16 pt-8 border-t border-white/5">
            <p class="text-gray-600 text-xs">© 2024 L'Éclipse. Tous droits réservés.</p>
        </div>
    </footer>

    <!-- Notification Toast -->
    <div id="notification" class="fixed bottom-10 right-10 bg-gold text-black px-6 py-3 rounded shadow-2xl transform translate-y-20 opacity-0 transition-all duration-300 z-50 font-bold">
        Message
    </div>

    <script>
        // --- DATA ---
        
        // 3D Slider Data (Enriched with more items)
        const specialities = [
            { title: "Bœuf de Kobe", desc: "Fumé au bois de hêtre", img: "https://images.unsplash.com/photo-1544025162-d76690b68f63?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Homard Bleu", desc: "Émulsion safran & yuzu", img: "https://images.unsplash.com/photo-1551248429-40975aa4de74?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Truffe Noire", desc: "Risotto crémeux 24 mois", img: "https://images.unsplash.com/photo-1476718406336-bb5a9690ee2b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Saint-Jacques", desc: "Snackées, purée de pois", img: "https://images.unsplash.com/photo-1559339352-11d035aa65de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Sphère Chocolat", desc: "Cœur coulant passion", img: "https://images.unsplash.com/photo-1579372786545-d24232daf58c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Canard Laqué", desc: "Miel et épices douces", img: "https://images.unsplash.com/photo-1580476262798-bddd9f4b7369?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Poulpe Grillé", desc: "Ail noir et paprika", img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" },
            { title: "Caviar Osciètre", desc: "Blinis au sarrasin", img: "https://images.unsplash.com/photo-1585238342028-a02b137d2ed0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" }
        ];

        // Menu Data (Enriched with more items)
        const menuItems = [
            // Entrées
            { category: "entree", name: "Carpaccio de Saint-Jacques", price: "28€", desc: "Agrumes, huile de vanille et fleur de sel.", img: "https://images.unsplash.com/photo-1565557623262-b51c2513a641?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "entree", name: "Foie Gras Poêlé", price: "34€", desc: "Chutney de figues, pain d'épices maison.", img: "https://images.unsplash.com/photo-1621255530752-d17b5b5c2a11?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "entree", name: "Ravioles de Langoustine", price: "32€", desc: "Bouillon thaï, citronnelle et gingembre.", img: "https://images.unsplash.com/photo-1551183053-bf91a1d81141?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "entree", name: "Tartare de Thon Rouge", price: "29€", desc: "Avocat, mangue, sésame grillé.", img: "https://images.unsplash.com/photo-1543339308-43e59d6b73a6?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            
            // Plats
            { category: "plat", name: "Filet de Bœuf Rossini", price: "45€", desc: "Truffes noires, purée truffée.", img: "https://images.unsplash.com/photo-1600891964092-4316c288032e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "plat", name: "Bar de Ligne Rôti", price: "38€", desc: "Légumes oubliés, sauce vierge.", img: "https://images.unsplash.com/photo-1594041680534-e8c8cdebd659?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "plat", name: "Carré d'Agneau", price: "42€", desc: "Croûte d'herbes, jus corsé au thym.", img: "https://images.unsplash.com/photo-1532597327428-3885d8e75200?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "plat", name: "Risotto aux Cèpes", price: "34€", desc: "Parmesan 36 mois, huile de truffe blanche.", img: "https://images.unsplash.com/photo-1476718406336-bb5a9690ee2b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            
            // Desserts
            { category: "dessert", name: "Le Citron", price: "18€", desc: "En trompe-l'œil, insert menthe fraîche.", img: "https://images.unsplash.com/photo-1551024601-bec78aea704b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "dessert", name: "Pavlova Fruits Rouges", price: "16€", desc: "Meringue légère, crème onctueuse.", img: "https://images.unsplash.com/photo-1488477181946-6428a0291777?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "dessert", name: "Millefeuille Vanille", price: "19€", desc: "Vanille de Madagascar, caramel beurre salé.", img: "https://images.unsplash.com/photo-1587314168485-3236d6710814?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { category: "dessert", name: "Soufflé Chocolat Noir", price: "20€", desc: "Guanaja 70%, glace pistache.", img: "https://images.unsplash.com/photo-1558961363-fa8fdf82db35?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" }
        ];

        // --- INIT ---
        window.onload = function() {
            // Remove Loader
            setTimeout(() => {
                document.getElementById('loader').style.opacity = '0';
                setTimeout(() => document.getElementById('loader').remove(), 800);
            }, 1000);

            initThreeJS();
            init3DSlider();
            renderMenu('all');
            initMenuFilters();
        };

        // --- THREE.JS BACKGROUND ---
        function initThreeJS() {
            const canvas = document.getElementById('bg-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Particles
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 700;
            const posArray = new Float32Array(particlesCount * 3);

            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 15; // Spread
            }

            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

            // Material - Gold dots
            const material = new THREE.PointsMaterial({
                size: 0.02,
                color: 0xD4AF37,
                transparent: true,
                opacity: 0.8,
            });

            const particlesMesh = new THREE.Points(particlesGeometry, material);
            scene.add(particlesMesh);

            camera.position.z = 3;

            // Mouse Interaction
            let mouseX = 0;
            let mouseY = 0;

            document.addEventListener('mousemove', (event) => {
                mouseX = event.clientX / window.innerWidth - 0.5;
                mouseY = event.clientY / window.innerHeight - 0.5;
            });

            // Animation Loop
            const clock = new THREE.Clock();

            function animate() {
                requestAnimationFrame(animate);
                const elapsedTime = clock.getElapsedTime();

                // Rotate entire system slowly
                particlesMesh.rotation.y = elapsedTime * 0.05;
                particlesMesh.rotation.x = elapsedTime * 0.02;

                // Mouse interaction parallax
                particlesMesh.rotation.y += mouseX * 0.05;
                particlesMesh.rotation.x += mouseY * 0.05;

                renderer.render(scene, camera);
            }
            animate();

            // Resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        // --- 3D SLIDER LOGIC ---
        let currentSlide = 0;
        
        function init3DSlider() {
            const container = document.getElementById('slider-3d');
            container.innerHTML = '';
            
            specialities.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'slider-card glass-panel';
                card.innerHTML = `
                    <img src="${item.img}" alt="${item.title}">
                    <div class="slider-content">
                        <h4 class="text-gold text-xl font-serif">${item.title}</h4>
                        <p class="text-gray-300 text-sm mt-1">${item.desc}</p>
                    </div>
                `;
                card.onclick = () => { currentSlide = index; updateSlider(); };
                container.appendChild(card);
            });
            updateSlider();
        }

        function updateSlider() {
            const cards = document.querySelectorAll('.slider-card');
            const center = Math.floor(cards.length / 2); // Not used directly, we center around currentSlide
            
            cards.forEach((card, index) => {
                const offset = index - currentSlide;
                
                card.className = 'slider-card glass-panel'; // reset
                
                if (offset === 0) {
                    // Center card
                    card.style.transform = `translateX(0) scale(1.2) zIndex(10)`;
                    card.style.zIndex = 10;
                    card.style.opacity = 1;
                    card.classList.add('active');
                } else if (Math.abs(offset) <= 2) {
                    // Neighbors
                    const translate = offset * 220; // Distance between cards
                    const scale = 1 - Math.abs(offset) * 0.2;
                    const rotateY = offset * -15; // Rotate inwards
                    
                    card.style.transform = `translateX(${translate}px) scale(${scale}) perspective(1000px) rotateY(${rotateY}deg)`;
                    card.style.zIndex = 10 - Math.abs(offset);
                    card.style.opacity = 0.6;
                } else {
                    // Far away cards
                    card.style.opacity = 0;
                    card.style.zIndex = 0;
                }
            });
        }

        function moveSlide(direction) {
            currentSlide += direction;
            if (currentSlide < 0) currentSlide = specialities.length - 1;
            if (currentSlide >= specialities.length) currentSlide = 0;
            updateSlider();
        }

        // --- MENU LOGIC ---
        function renderMenu(filter) {
            const grid = document.getElementById('menu-grid');
            grid.innerHTML = '';
            
            const filteredItems = filter === 'all' 
                ? menuItems 
                : menuItems.filter(item => item.category === filter);

            filteredItems.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'menu-item glass-panel rounded-xl overflow-hidden border border-white/5 relative group';
                div.style.animation = `float 0.5s ease-out ${index * 0.1}s backwards`;
                
                div.innerHTML = `
                    <div class="h-48 overflow-hidden relative">
                        <img src="${item.img}" class="w-full h-full object-cover transition duration-700 group-hover:scale-110" alt="${item.name}">
                        <div class="absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors"></div>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-baseline mb-2">
                            <h4 class="text-xl font-serif text-white group-hover:text-gold transition-colors">${item.name}</h4>
                            <span class="text-gold font-bold text-lg">${item.price}</span>
                        </div>
                        <p class="text-gray-400 text-sm font-light">${item.desc}</p>
                        <button class="mt-4 w-full py-2 border border-white/10 text-xs uppercase tracking-widest text-gray-400 hover:text-white hover:border-gold hover:bg-gold/10 transition-all">Ajouter à la commande</button>
                    </div>
                `;
                grid.appendChild(div);
            });
        }

        function initMenuFilters() {
            const buttons = document.querySelectorAll('.menu-filter');
            buttons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update active style
                    buttons.forEach(b => {
                        b.classList.remove('bg-gold', 'text-black', 'border-gold');
                        b.classList.add('text-gray-300', 'border-white/10');
                    });
                    btn.classList.remove('text-gray-300', 'border-white/10');
                    btn.classList.add('bg-gold', 'text-black', 'border-gold');
                    
                    // Filter
                    renderMenu(btn.dataset.filter);
                });
            });
        }

        // --- UTILS ---
        function showNotification(msg) {
            const notif = document.getElementById('notification');
            notif.innerText = msg;
            notif.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                notif.classList.add('translate-y-20', 'opacity-0');
            }, 3000);
        }

        // Navbar Scroll Effect
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) {
                nav.classList.add('bg-black/90');
                nav.classList.remove('border-b-0');
                nav.classList.add('border-b', 'border-white/10');
            } else {
                nav.classList.remove('bg-black/90');
                nav.classList.add('border-b-0');
                nav.classList.remove('border-b', 'border-white/10');
            }
        });

    </script>
</body>
</html>